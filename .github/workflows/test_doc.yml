name: test examples

concurrency:
    group: ${{ github.workflow }}-${{ github.ref }}
    cancel-in-progress: true

on:
    push:
        branches: [ "master" ]
    pull_request:
        branches: [ "master" ]

    schedule:
        - cron: 0 0 1 * *

    # Allows you to run this workflow manually from the Actions tab
    workflow_dispatch:

jobs:
    test_examples:
        runs-on: ubuntu-22.04

        steps:
        - uses: actions/checkout@v3

        - name: test common uses
          run: bash < docs/common_uses/conda_multiple_env.txt

        - name: test examples
          run: bash < docs/examples/nipype_tuto.txt
